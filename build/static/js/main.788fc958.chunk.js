(this.webpackJsonpmovieapi=this.webpackJsonpmovieapi||[]).push([[0],{38:function(e,t,a){},39:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){},67:function(e,t,a){},68:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),r=a(30),s=a.n(r),i=(a(38),a(20)),o=a(7),j=(a(39),a(10)),d=a(1),u=function(e){return Object(d.jsx)(j.b,{to:"/"+e.card.id,children:Object(d.jsxs)("div",{ref:e.lastMovieRef,className:"card",children:[Object(d.jsx)("div",{className:"card-image",children:Object(d.jsx)("img",{src:e.card.poster_path?"https://image.tmdb.org/t/p/w500/"+e.card.poster_path:"Image.png",alt:"cannot display it"})}),Object(d.jsxs)("div",{className:"card-name-rating",children:[Object(d.jsx)("p",{id:"title",children:e.card.title}),Object(d.jsx)("p",{id:"rating",children:"("+e.card.vote_average+")"})]}),Object(d.jsx)("div",{className:"card-desc",children:Object(d.jsx)("p",{children:e.card.overview})})]})})},b=(a(46),a(47),a(33)),l=function(e){return Object(d.jsxs)("header",{children:[e.isSearchBar?Object(d.jsx)("input",{type:"text",placeholder:"Search",onChange:e.handleOnChange}):Object(d.jsx)("h2",{className:"movie-h2",children:"Movie Details"}),Object(d.jsx)(j.b,{to:"./",children:Object(d.jsx)(b.a,{className:"home-icon"})})]})},h=function(e){var t;return e.cards.sort((t="release_date",function(e,a){return Date.parse(e[t])<Date.parse(a[t])?1:Date.parse(e[t])>Date.parse(a[t])?-1:0})),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(l,{isSearchBar:!0,handleOnChange:e.change}),Object(d.jsx)("div",{className:"container",children:Object(d.jsx)("div",{id:"show-cards",children:e.cards.map((function(t,a){return e.cards.length===a+1?Object(d.jsx)(u,{lastMovieRef:e.lastMovieRef,card:t},t.id):Object(d.jsx)(u,{desc:!1,card:t},t.id)}))})})]})},O=a(18),p=a.n(O),f=a(32),g=a(2),v=a(19),x=a.n(v);a(67);function m(){var e=Object(g.f)(),t=Object(c.useState)("https://api.themoviedb.org/3/movie/".concat(e.id,"?api_key=20d913bda50836a3a7c9e7ad70acab65&language=en-US")),a=Object(o.a)(t,1)[0],n=Object(c.useState)("https://api.themoviedb.org/3/movie/".concat(e.id,"/credits?api_key=20d913bda50836a3a7c9e7ad70acab65&language=en-US")),r=Object(o.a)(n,1)[0],s=Object(c.useState)({release_date:""}),i=Object(o.a)(s,2),j=i[0],u=i[1],b=Object(c.useState)(""),h=Object(o.a)(b,2),O=h[0],v=h[1],m=Object(c.useState)("Cast: "),S=Object(o.a)(m,2),_=S[0],k=S[1],w=Object(c.useState)(!0),C=Object(o.a)(w,2),D=C[0],N=C[1];return Object(c.useEffect)((function(){(function(){var e=Object(f.a)(p.a.mark((function e(){var t,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.get(a);case 3:return t=e.sent,e.next=6,x.a.get(r);case 6:c=e.sent,200===t.status&&200===c.status&&(u(t.data),c.data.cast.map((function(e){"Acting"===e.known_for_department&&v((function(t){return t+e.name+", "}))})),c.data.crew.map((function(e){"Director"===e.job&&k(e.name)})),N(!1)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}})()()}),[]),D?Object(d.jsx)("h1",{children:"Loading"}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(l,{isSearchBar:!1}),Object(d.jsxs)("div",{className:"MainContainer",children:[Object(d.jsx)("div",{className:"ImgContainer",children:Object(d.jsx)("img",{src:j.backdrop_path?"https://image.tmdb.org/t/p/w500"+j.backdrop_path:"Image.png"})}),Object(d.jsxs)("div",{className:"textContainer",children:[Object(d.jsxs)("h2",{children:[j.original_title," ",Object(d.jsxs)("span",{children:["(",j.vote_average,")"]})]}),Object(d.jsxs)("p",{children:["Year: ",j.release_date.slice(0,4)," | Duration: ",parseFloat(j.runtime/60).toFixed(2)," | Director: ",_]}),Object(d.jsxs)("p",{children:["Cast: ",O]}),Object(d.jsxs)("p",{children:["Description: ",j.overview]})]})]})]})}var S="https://api.themoviedb.org/3/movie/upcoming?api_key=20d913bda50836a3a7c9e7ad70acab65&language=en-US&page=";var _=function(){var e=Object(c.useState)([]),t=Object(o.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(1),s=Object(o.a)(r,2),u=s[0],b=s[1],l=Object(c.useState)(1),O=Object(o.a)(l,2),p=O[0],f=O[1],v=Object(c.useState)(S),x=Object(o.a)(v,2),_=x[0],k=x[1],w=Object(c.useState)(S),C=Object(o.a)(w,2),D=C[0],N=C[1];Object(c.useEffect)((function(){k((function(e){return!0})),f((function(e){return 1})),n([]),fetch(D+p).then((function(e){return e.json()})).then((function(e){n(e.results),b(e.total_pages),k((function(e){return!1}))}))}),[D]),Object(c.useEffect)((function(){1!==p&&(k((function(e){return!0})),fetch(D+p).then((function(e){return e.json()})).then((function(e){n((function(t){return[].concat(Object(i.a)(t),Object(i.a)(e.results))})),a.pop(),k((function(e){return!1}))})))}),[p]);var y=Object(c.useRef)(),F=Object(c.useCallback)((function(e){_||(y.current&&y.current.disconnect(),y.current=new IntersectionObserver((function(e){e[0].isIntersecting&&u>p&&f((function(e){return e+1}))})),e&&y.current.observe(e))}));return Object(d.jsx)(j.a,{children:Object(d.jsxs)(g.c,{children:[Object(d.jsx)(g.a,{exact:!0,path:"/",children:Object(d.jsx)(h,{change:function(e){""!==e.target.value?N("https://api.themoviedb.org/3/search/movie?api_key=20d913bda50836a3a7c9e7ad70acab65&language=en-US&include_adult=false&query="+e.target.value+"&page="):""===e.target.value&&N(S)},cards:a,lastMovieRef:F})}),Object(d.jsx)(g.a,{exact:!0,path:"/:id",children:Object(d.jsx)(m,{})})]})})},k=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,69)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),c(e),n(e),r(e),s(e)}))};s.a.render(Object(d.jsx)(n.a.StrictMode,{children:Object(d.jsx)(_,{})}),document.getElementById("root")),k()}},[[68,1,2]]]);
//# sourceMappingURL=main.788fc958.chunk.js.map